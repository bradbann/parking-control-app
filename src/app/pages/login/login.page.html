<ion-content class="no-scroll">
  <div class="height-10vh"></div>
  <div class="height-30vh car-bg-img"></div>
  <div class="height-10vh">
    <ion-text
      class="ion-align-items-center ion-justify-content-center"
      style="color: #fd9641; display: flex;"
    >
      <h3>市场车辆装卸货放行系统(商户端)</h3>
    </ion-text>
  </div>
  <div class="height-50vh">
    <form [formGroup]="loginForm" (ngSubmit)="login()">
      <ion-item lines="none">
        <!-- <ion-label position="floating">手机号</ion-label> -->
        <ion-input
          maxlength="11"
          minlength="11"
          autocorrect
          clearInput
          inputmode="tel"
          title="请输入手机号"
          placeholder="请输入手机号"
          type="tel"
          formControlName="phone"
          required
        >
        </ion-input>
      </ion-item>
      <ion-item lines="none">
        <!-- <ion-label position="floating">验证码</ion-label> -->
        <ion-input
          maxlength="6"
          minlength="6"
          autocorrect
          clearInput
          inputmode="numeric"
          title="请输入验证码"
          placeholder="请输入验证码"
          type="numeric"
          formControlName="code"
          required
        >
        </ion-input>
        <ion-button
          class="code"
          (click)="getCode()"
          slot="end"
          fill="outline"
          size="default"
          [disabled]="!loginForm.controls.phone.valid || countdown"
        >
          <ion-spinner *ngIf="crescent.sms" name="crescent"></ion-spinner>
          <ion-text *ngIf="!countdown">
            {{ crescent.sms ? '正在获取' : '获取验证码'}}
          </ion-text>
          <ion-text *ngIf="countdown">重新发送({{countdown}})</ion-text>
        </ion-button>
      </ion-item>
      <ion-button
        type="submit"
        class="button-main-color login"
        [disabled]="btnDisabled || !loginForm.valid"
        expand="block"
      >
        <ion-spinner *ngIf="crescent.login" name="crescent"></ion-spinner>
        <ion-text
          >{{ crescent.login ? '正在登录，请稍后..' : '立即登录'}}</ion-text
        >
      </ion-button>
    </form>
  </div>
</ion-content>
